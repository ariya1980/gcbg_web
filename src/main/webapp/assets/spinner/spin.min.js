var __assign=(this&&this.__assign)||Object.assign||function(b){for(var c,a=1,e=arguments.length;a<e;a++){c=arguments[a];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){b[d]=c[d]}}}return b};var defaults={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",fadeColor:"transparent",animation:"spinner-line-fade-default",rotate:0,direction:1,speed:1,zIndex:2000000000,className:"spinner",top:"50%",left:"50%",shadow:"0 0 1px transparent",position:"absolute",};var Spinner=(function(){function a(b){if(b===void 0){b={}}this.opts=__assign({},defaults,b)}a.prototype.spin=function(b){this.stop();this.el=document.createElement("div");this.el.className=this.opts.className;this.el.setAttribute("role","progressbar");css(this.el,{position:this.opts.position,width:0,zIndex:this.opts.zIndex,left:this.opts.left,top:this.opts.top,transform:"scale("+this.opts.scale+")",});if(b){b.insertBefore(this.el,b.firstChild||null)}drawLines(this.el,this.opts);return this};a.prototype.stop=function(){if(this.el){if(typeof requestAnimationFrame!=="undefined"){cancelAnimationFrame(this.animateId)}else{clearTimeout(this.animateId)}if(this.el.parentNode){this.el.parentNode.removeChild(this.el)}this.el=undefined}return this};return a}());function css(b,a){for(var c in a){b.style[c]=a[c]}return b}function getColor(b,a){return typeof b=="string"?b:b[a%b.length]}function drawLines(b,a){var c=(Math.round(a.corners*a.width*500)/1000)+"px";var j="none";if(a.shadow===true){j="0 2px 4px #000"}else{if(typeof a.shadow==="string"){j=a.shadow}}var e=parseBoxShadow(j);for(var g=0;g<a.lines;g++){var d=~~(360/a.lines*g+a.rotate);var h=css(document.createElement("div"),{position:"absolute",top:-a.width/2+"px",width:(a.length+a.width)+"px",height:a.width+"px",background:getColor(a.fadeColor,g),borderRadius:c,transformOrigin:"left",transform:"rotate("+d+"deg) translateX("+a.radius+"px)",});var f=g*a.direction/a.lines/a.speed;f-=1/a.speed;var k=css(document.createElement("div"),{width:"100%",height:"100%",background:getColor(a.color,g),borderRadius:c,boxShadow:normalizeShadow(e,d),animation:1/a.speed+"s linear "+f+"s infinite "+a.animation,});h.appendChild(k);b.appendChild(h)}}function parseBoxShadow(f){var i=/^\s*([a-zA-Z]+\s+)?(-?\d+(\.\d+)?)([a-zA-Z]*)\s+(-?\d+(\.\d+)?)([a-zA-Z]*)(.*)$/;var c=[];for(var b=0,h=f.split(",");b<h.length;b++){var k=h[b];var e=k.match(i);if(e===null){continue}var j=+e[2];var g=+e[5];var a=e[4];var d=e[7];if(j===0&&!a){a=d}if(g===0&&!d){d=a}if(a!==d){continue}c.push({prefix:e[1]||"",x:j,y:g,xUnits:a,yUnits:d,end:e[8],})}return c}function normalizeShadow(b,f){var e=[];for(var c=0,a=b;c<a.length;c++){var g=a[c];var d=convertOffset(g.x,g.y,f);e.push(g.prefix+d[0]+g.xUnits+" "+d[1]+g.yUnits+g.end)}return e.join(", ")}function convertOffset(a,f,e){var d=e*Math.PI/180;var b=Math.sin(d);var c=Math.cos(d);return[Math.round((a*c+f*b)*1000)/1000,Math.round((-a*b+f*c)*1000)/1000,]};